  //===----------------------------------------------------------------------===//
  // Copyright Â© 2024 Apple Inc. and the Pkl project authors. All rights reserved.
  //
  // Licensed under the Apache License, Version 2.0 (the "License");
  // you may not use this file except in compliance with the License.
  // You may obtain a copy of the License at
  //
  //     https://www.apache.org/licenses/LICENSE-2.0
  //
  // Unless required by applicable law or agreed to in writing, software
  // distributed under the License is distributed on an "AS IS" BASIS,
  // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  // See the License for the specific language governing permissions and
  // limitations under the License.
  //===----------------------------------------------------------------------===//
  /// Base module for Prometheus configuration objects
  @ModuleInfo { minPklVersion = "0.25.0" }
// ^^^^^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/ModuleInfo#
//              ^^^^^^^^^^^^^ definition pkl . package://pkg.pkl-lang.org/pkl-pantry/io.prometheus 1.4.0 `PrometheusObject.pkl`/minPklVersion.
  abstract module io.prometheus.PrometheusObject
//^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ definition pkl . package://pkg.pkl-lang.org/pkl-pantry/io.prometheus 1.4.0 `PrometheusObject.pkl`/
  
  typealias MetricNameFormat = String(matches(Regex(#"[a-zA-Z_:][a-zA-Z0-9_:]*"#)))
//          ^^^^^^^^^^^^^^^^ definition pkl . package://pkg.pkl-lang.org/pkl-pantry/io.prometheus 1.4.0 `PrometheusObject.pkl`/MetricNameFormat#
//                             ^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/String#
//                                    ^^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/String#matches().
//                                            ^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Regex().
  
  typealias LabelNameFormat = String(matches(Regex(#"[a-zA-Z_][a-zA-Z0-9_]*"#)))
//          ^^^^^^^^^^^^^^^ definition pkl . package://pkg.pkl-lang.org/pkl-pantry/io.prometheus 1.4.0 `PrometheusObject.pkl`/LabelNameFormat#
//                            ^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/String#
//                                   ^^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/String#matches().
//                                           ^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Regex().
  
  typealias Labels = Mapping<LabelNameFormat, String|Number|Boolean>
//          ^^^^^^ definition pkl . package://pkg.pkl-lang.org/pkl-pantry/io.prometheus 1.4.0 `PrometheusObject.pkl`/Labels#
//                   ^^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Mapping#
//                           ^^^^^^^^^^^^^^^ reference pkl . package://pkg.pkl-lang.org/pkl-pantry/io.prometheus 1.4.0 `PrometheusObject.pkl`/LabelNameFormat#
//                                            ^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/String#
//                                                   ^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Number#
//                                                          ^^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Boolean#
  
  typealias Scheme = *"http"|"https"
//          ^^^^^^ definition pkl . package://pkg.pkl-lang.org/pkl-pantry/io.prometheus 1.4.0 `PrometheusObject.pkl`/Scheme#
  
  local function convertDuration(dur: Duration) =
//               ^^^^^^^^^^^^^^^ definition local convertDuration_28
//                               ^^^ definition local dur_28
//                                    ^^^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Duration#
    if (dur.unit == "min") dur.value.toString() + "m"
//      ^^^ reference local dur_28
//          ^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Duration#unit.
//                         ^^^ reference local dur_28
//                             ^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Duration#value.
//                                   ^^^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Number#toString().
    else if (dur.unit == "ns") convertDuration(dur.toUnit("ms"))
//           ^^^ reference local dur_28
//               ^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Duration#unit.
//                             ^^^^^^^^^^^^^^^ reference local convertDuration_28
//                                             ^^^ reference local dur_28
//                                                 ^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Duration#toUnit().
    else if (dur.unit == "us") convertDuration(dur.toUnit("ms"))
//           ^^^ reference local dur_28
//               ^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Duration#unit.
//                             ^^^^^^^^^^^^^^^ reference local convertDuration_28
//                                             ^^^ reference local dur_28
//                                                 ^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Duration#toUnit().
    else dur.value.toString() + dur.unit
//       ^^^ reference local dur_28
//           ^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Duration#value.
//                 ^^^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Number#toString().
//                              ^^^ reference local dur_28
//                                  ^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Duration#unit.
  
  output {
//^^^^^^ definition pkl . package://pkg.pkl-lang.org/pkl-pantry/io.prometheus 1.4.0 `PrometheusObject.pkl`/output.
    renderer = new YamlRenderer {
//  ^^^^^^^^ definition pkl . package://pkg.pkl-lang.org/pkl-pantry/io.prometheus 1.4.0 `PrometheusObject.pkl`/renderer.
//                 ^^^^^^^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/YamlRenderer#
      converters {
//    ^^^^^^^^^^ definition pkl . package://pkg.pkl-lang.org/pkl-pantry/io.prometheus 1.4.0 `PrometheusObject.pkl`/converters.
        [Duration] = (dur: Duration) -> convertDuration(dur)
//       ^^^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Duration#
//                    ^^^ definition local dur_37
//                         ^^^^^^^^ reference pkl . pkl 0.29.0 `pkl.base`/Duration#
//                                      ^^^^^^^^^^^^^^^ reference local convertDuration_28
//                                                      ^^^ reference local dur_37
      }
    }
  }
  
